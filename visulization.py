from __future__ import divisionimport numpy as npimport matplotlib.pyplot as pyplotfrom pymongo import MongoClientfrom pylab import *labels=[]client=MongoClient()db=client.twitterdbcount=db.twitterdb.distinct( "Language:: " )print 'Total Distinct Language:',countc=[]total=0explode=[]sum=0for i in count:    en=db.twitterdb.find({"Language:: ":i}).count()    total+=enprint 'Total tweets:',totalfor i in count:    en=db.twitterdb.find({"Language:: ":i}).count()    if(((en*100)/total)>3):        labels.append(i)        explode.append(0)        c.append(en)    else:        sum+=enlabels.append('Others')explode.append(0)c.append(sum)#print c#print labelspyplot.figure(1, figsize=(6,6))ax = pyplot.axes([0.1, 0.1, 0.8, 0.8])pyplot.pie(c, explode=explode, labels=labels,                autopct='%1.1f%%', shadow=True, startangle=90)pyplot.title('Twitter', bbox={'facecolor':'1.0', 'pad':7})pyplot.show()labels=[]client=MongoClient()db=client.fbdbcount=db.fbdb.distinct( "Language:: " )print 'Total Distinct Language:',countc=[]total=0explode=[]sum=0for i in count:    en=db.fbdb.find({"Language:: ":i}).count()    total+=enprint 'Total tweets:',totalfor i in count:    en=db.fbdb.find({"Language:: ":i}).count()    if(((en*100)/total)>3):        labels.append(i)        explode.append(0)        c.append(en)    else:        sum+=enlabels.append('Others')explode.append(0)c.append(sum)pyplot.figure(1, figsize=(6,6))ax = pyplot.axes([0.1, 0.1, 0.8, 0.8])pyplot.pie(c, explode=explode, labels=labels,                autopct='%1.1f%%', shadow=True, startangle=90)pyplot.title('Facebook', bbox={'facecolor':'1.0', 'pad':5})pyplot.show()labels=[]client=MongoClient()db=client.instadbcount=db.instadb.distinct( "Language:: " )print 'Total Distinct Language:',countc=[]total=0explode=[]sum=0for i in count:    en=db.instadb.find({"Language:: ":i}).count()    total+=enprint 'Total tweets:',totalfor i in count:    en=db.instadb.find({"Language:: ":i}).count()    if(((en*100)/total)>3):        labels.append(i)        explode.append(0)        c.append(en)    else:        sum+=enlabels.append('Others')explode.append(0)c.append(sum)pyplot.figure(1, figsize=(6,6))ax = pyplot.axes([0.1, 0.1, 0.8, 0.8])pyplot.pie(c, explode=explode, labels=labels,                autopct='%1.1f%%', shadow=True, startangle=90)pyplot.title('Instagram', bbox={'facecolor':'1.0', 'pad':5})pyplot.show()labels=[]client=MongoClient()db=client.tumblrdbcount=db.tumblrdb.distinct( "Language:: " )print 'Total Distinct Language:',countc=[]total=0explode=[]sum=0for i in count:    en=db.tumblrdb.find({"Language:: ":i}).count()    total+=enprint 'Total tweets:',totalfor i in count:    en=db.tumblrdb.find({"Language:: ":i}).count()    if(((en*100)/total)>3):        labels.append(i)        explode.append(0)        c.append(en)    else:        sum+=enlabels.append('Others')explode.append(0)c.append(sum)pyplot.figure(1, figsize=(6,6))ax = pyplot.axes([0.1, 0.1, 0.8, 0.8])pyplot.pie(c, explode=explode, labels=labels,                autopct='%1.1f%%', shadow=True, startangle=90)pyplot.title('Tumblr', bbox={'facecolor':'1.0', 'pad':5})pyplot.show()